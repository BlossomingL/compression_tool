extensions:
  net_thinner:
    arch: None
    class: FilterRemover
    dataset: 144x122
    thinning_func_str: remove_filters
policies:
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_10
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_20
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_40
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_50
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_60
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_70
- epochs:
  - 0
  pruner:
    instance_name: filter_pruner_80
- epochs:
  - 0
  extension:
    instance_name: net_thinner
pruners:
  filter_pruner_10:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.1
    group_type: Filters
    weights:
    - conv1.weight
    - layer2.0.conv2.weight
    - layer2.0.downsample.0.weight
    - layer2.1.conv2.weight
    - layer2.2.conv2.weight
    - layer2.3.conv2.weight
    - layer2.4.conv2.weight
    - layer2.5.conv2.weight
    - layer2.6.conv2.weight
    - layer2.7.conv2.weight
    - layer2.8.conv2.weight
    - layer2.9.conv2.weight
    - layer2.10.conv2.weight
    - layer2.11.conv2.weight
    - layer2.12.conv2.weight
    - layer3.0.conv1.weight
    - layer3.0.conv2.weight
    - layer3.0.downsample.0.weight
    - layer3.1.conv2.weight
    - layer3.2.conv2.weight
    - layer3.3.conv2.weight
    - layer3.4.conv2.weight
    - layer3.5.conv2.weight
    - layer3.6.conv2.weight
    - layer3.7.conv2.weight
    - layer3.8.conv2.weight
    - layer3.9.conv2.weight
    - layer3.10.conv2.weight
    - layer3.11.conv2.weight
    - layer3.12.conv2.weight
    - layer3.13.conv2.weight
    - layer3.14.conv2.weight
    - layer3.15.conv2.weight
    - layer3.16.conv2.weight
    - layer3.17.conv2.weight
    - layer3.18.conv2.weight
    - layer3.19.conv2.weight
    - layer3.20.conv2.weight
    - layer3.21.conv2.weight
    - layer3.22.conv2.weight
    - layer3.23.conv2.weight
    - layer3.24.conv2.weight
    - layer3.25.conv2.weight
    - layer3.26.conv2.weight
    - layer3.27.conv2.weight
    - layer3.28.conv2.weight
    - layer3.29.conv2.weight
    - layer4.0.conv2.weight
    - layer4.0.downsample.0.weight
    - layer4.1.conv2.weight
    - layer4.2.conv2.weight
  filter_pruner_20:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.2
    group_type: Filters
    weights:
    - layer4.0.conv1.weight
  filter_pruner_40:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.4
    group_type: Filters
    weights:
    - layer2.0.conv1.weight
    - layer2.4.conv1.weight
    - layer3.4.conv1.weight
  filter_pruner_50:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.5
    group_type: Filters
    weights:
    - layer2.5.conv1.weight
    - layer2.8.conv1.weight
    - layer2.9.conv1.weight
    - layer2.11.conv1.weight
    - layer3.1.conv1.weight
    - layer3.7.conv1.weight
    - layer3.12.conv1.weight
    - layer3.14.conv1.weight
    - layer3.15.conv1.weight
    - layer3.19.conv1.weight
    - layer3.20.conv1.weight
    - layer3.24.conv1.weight
  filter_pruner_60:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.6
    group_type: Filters
    weights:
    - layer1.0.conv2.weight
    - layer1.0.downsample.0.weight
    - layer1.1.conv2.weight
    - layer1.2.conv2.weight
    - layer2.3.conv1.weight
    - layer2.6.conv1.weight
    - layer2.12.conv1.weight
    - layer3.2.conv1.weight
    - layer3.5.conv1.weight
    - layer3.10.conv1.weight
    - layer3.16.conv1.weight
    - layer3.18.conv1.weight
  filter_pruner_70:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.7
    group_type: Filters
    weights:
    - layer1.1.conv1.weight
    - layer1.2.conv1.weight
    - layer2.1.conv1.weight
    - layer2.2.conv1.weight
    - layer2.7.conv1.weight
    - layer2.10.conv1.weight
    - layer3.3.conv1.weight
    - layer3.6.conv1.weight
    - layer3.8.conv1.weight
    - layer3.9.conv1.weight
    - layer3.11.conv1.weight
    - layer3.13.conv1.weight
    - layer3.17.conv1.weight
    - layer3.21.conv1.weight
    - layer3.22.conv1.weight
    - layer3.23.conv1.weight
    - layer3.25.conv1.weight
    - layer3.27.conv1.weight
    - layer3.28.conv1.weight
  filter_pruner_80:
    class: L1RankedStructureParameterPruner
    desired_sparsity: 0.8
    group_type: Filters
    weights:
    - layer1.0.conv1.weight
    - layer3.26.conv1.weight
    - layer3.29.conv1.weight
    - layer4.1.conv1.weight
    - layer4.2.conv1.weight
version: 1
